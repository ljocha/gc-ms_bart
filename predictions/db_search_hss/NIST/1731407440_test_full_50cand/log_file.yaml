command: src/predict_db_search.py --output-folder predictions --config-file configs/predict_db_search_hss.yaml
  --num-workers 25
dataset:
  data_split: test
  dataset_name: NIST
  query_data: data/nist/test.jsonl
  reference_data: data/nist/train.jsonl
filtering_args:
  max_mol_repr_len: 100
  max_mz: 500
  max_num_peaks: 300
  mol_repr: smiles
general:
  additional_naming_info: ''
  num_candidates: 50
  ranking_function: hss
start_loading_time: 12/11/2024 11:30:40
tokenizer_path: tokenizer/tokenizer_mf10M.model
finished_time_utc: 13/11/2024 05:50:03
generation_time: '18:19:10'
wall_time_utc: '18:19:23'
evaluation_0:
    average_num_of_predictions: '42.432341599745286'
    eval_config:
        do_db_search: false
        filtering_args:
            max_mol_repr_len: 100
            max_mz: 500
            max_num_peaks: 300
            mol_repr: smiles
        fingerprint_type: morgan
        fp_simil_function: tanimoto
        on_the_fly: true
        save_best_predictions: true
        threshold: 0.85
    eval_time: 00:03:25
    formula_stats:
        num_all_correct_formulas: 19609 / 1199435
        num_at_least_one_correct_formula: '9014'
        num_correct_formulas_at_best_prob: '3235'
        num_correct_formulas_at_best_simil: '3317'
        rate_of_all_correct_formulas: '0.01634853076656926'
        rate_of_at_least_one_correct_formula: '0.3188877489652245'
        rate_of_correct_formulas_at_best_prob: '0.11444440513673187'
        rate_of_correct_formulas_at_best_simil: '0.11734531432412354'
    hit_at_k_prob: '[(1, 0.08787632221318145), (2, 0.09841865072345846), (3, 0.10404358439169349),
        (4, 0.1069091166377755), (5, 0.109314748646832), (6, 0.11034067994481198),
        (7, 0.11175575759719815), (8, 0.11274631195386847), (9, 0.11377224325184844),
        (10, 0.11469204372589946), (11, 0.11529345172816358), (12, 0.11568259808256978),
        (13, 0.11593023667173737), (14, 0.1162132522022146), (15, 0.11653164467400148),
        (16, 0.11692079102840769), (17, 0.11723918350019458), (18, 0.11748682208936215),
        (19, 0.11762832985460077), (20, 0.11769908373722009), (21, 0.11798209926769732),
        (22, 0.1182297378568649), (23, 0.11826511479817454), (24, 0.11837124562210351),
        (25, 0.11851275338734213), (26, 0.11865426115258075), (27, 0.1186896380938904),
        (28, 0.11883114585912902), (30, 0.11893727668305798), (31, 0.1190787844482966),
        (32, 0.11929104609615453), (33, 0.11932642303746419), (34, 0.1194679308027028),
        (35, 0.11950330774401245), (36, 0.11953868468532211), (37, 0.11960943856794141),
        (38, 0.11968019245056072), (39, 0.11971556939187038), (41, 0.11978632327448968),
        (42, 0.11982170021579934), (44, 0.119857077157109), (46, 0.11989245409841866),
        (47, 0.11996320798103796)]'
    labels_path: data/nist/test_with_db_index.jsonl
    molecular_weight_stats:
        mean_absolute_mw_difference_best_prob: '39.76412013439937'
        mean_absolute_mw_difference_best_simil: '41.13611498951182'
        mean_relative_mw_difference_best_prob: 15.32%
        mean_relative_mw_difference_best_simil: 15.74%
        rate_of_exact_mw_prob: '0.11239254254077193'
        rate_of_exact_mw_simil: '0.059256376693671065'
        rate_of_exact_nominal_mw_prob: '0.11727456044150422'
        rate_of_exact_nominal_mw_simil: '0.0639615098878551'
        rate_of_mw_difference_less_than_1_best_prob: '0.13298192238299078'
        rate_of_mw_difference_less_than_1_best_simil: '0.0883715993915166'
    num_datapoints_tested: '28267'
    num_empty_preds: '0'
    num_predictions_at_k_counter: '[28267, 28267, 28267, 28267, 28267, 28267, 28267,
        28267, 28267, 28267, 28267, 28267, 28267, 28267, 28267, 28266, 28264, 28264,
        28258, 28247, 28230, 28204, 28166, 28115, 28054, 27960, 27848, 27681, 27477,
        27185, 26893, 26555, 26133, 25565, 24974, 24277, 23431, 22475, 21353, 20198,
        18909, 17395, 15827, 14209, 12375, 10577, 8735, 6852, 5106, 3372]'
    precise_preds_stats:
        num_precise_preds_probsort: '0'
        num_precise_preds_similsort: '0'
        rate_of_precise_preds_probsort: '0.0'
        rate_of_precise_preds_similsort: '0.0'
    simil_1_hits:
        counter_multiple_hits: dict_items([(1, 503), (2, 326), (4, 289), (9, 219),
            (8, 302), (6, 327), (5, 346), (3, 287), (15, 16), (11, 107), (10, 188),
            (16, 13), (7, 308), (12, 60), (13, 30), (17, 9), (14, 12), (19, 7), (20,
            6), (21, 5), (41, 2), (42, 1), (22, 4), (27, 1), (30, 2), (25, 4), (18,
            4), (31, 2), (37, 1), (23, 2), (32, 1), (26, 2), (24, 3), (38, 1), (40,
            1)])
        num_1_hits_as_first_probsort: '2484'
        num_1_hits_as_first_similsort: '3391'
        num_fp_simil_fail_prob: '2484'
        num_fp_simil_fail_simil: '3391'
        rate_of_1_hits_as_first_probsort: '0.08787632221318145'
        rate_of_1_hits_as_first_similsort: '0.11996320798103796'
    start_time_utc: 13/11/2024 10:46:18
    threshold_stats:
        num_better_than_threshold_probsort: '3376'
        num_better_than_threshold_similsort: '5306'
        rate_of_better_than_threshold_probsort: '0.11943255386139315'
        rate_of_better_than_threshold_similsort: '0.18771005058902607'
        threshold: '0.85'
    topk_probsort: '[0.44803670050302613, 0.38947457142025127, 0.3587436992879386,
        0.33838317439567545, 0.32393619527889467, 0.31015252483956113, 0.3006098726041491,
        0.29114359929882316, 0.2843476607144952, 0.27758733490235665, 0.2716467181696605,
        0.26541353889205044, 0.2608972283589302, 0.2569535161172261, 0.25354657000757247,
        0.24800641818330385, 0.24535216254537534, 0.24308329481393448, 0.2399224495783225,
        0.237769051911077, 0.2368039618134437, 0.23363436090165518, 0.2313780798915119,
        0.22914282405833264, 0.2273473669984761, 0.2248112028542281, 0.22397305887214894,
        0.22153004478238794, 0.2201041474536566, 0.22015451556708343, 0.21837075765767694,
        0.21764312144275258, 0.21627128125340297, 0.21629771844710283, 0.21502795970966093,
        0.2140435627067262, 0.21505708526350814, 0.21562019715028743, 0.21560633152828262,
        0.21719150345330057, 0.21854910041207104, 0.22479364168328375, 0.229098280920842,
        0.2339713649945172, 0.2444192183202342, 0.25627032065210326, 0.27337039400774826,
        0.3006779265446857, 0.3334154956720553, 0.3821257193082184]'
    topk_similsort: '[0.6174510939259592, 0.5319123735973595, 0.4823529343762259,
        0.44719241994341175, 0.4206049007290012, 0.39844993004192025, 0.37851001275383517,
        0.3607313515700931, 0.34452891629871035, 0.32943567689307945, 0.31596752377820275,
        0.3037859305854592, 0.2928153015474092, 0.2827136200753326, 0.2735790379110145,
        0.2650481111115526, 0.25696140271839896, 0.24940942982392275, 0.24216533814142013,
        0.23519109704214924, 0.2283476538991633, 0.22216262583403756, 0.21591807156158674,
        0.20979321964101785, 0.20371450940244362, 0.19792105816789568, 0.19224933980430867,
        0.18683735035119173, 0.1815119245232512, 0.17671058451847632, 0.17189358555780085,
        0.1670501903379998, 0.1625431690888919, 0.15866691582647297, 0.15467973940317872,
        0.1509802379088437, 0.1478921359820767, 0.14511610653211007, 0.14296005157532196,
        0.14084685973265065, 0.13933891905679469, 0.139093332274636, 0.13922477893094581,
        0.13991873161306415, 0.1424451345662217, 0.14659534758186443, 0.1523309371704061,
        0.1618875929391555, 0.17280123671069597, 0.18565710905212165]'
